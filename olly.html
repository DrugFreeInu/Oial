<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Olly — Mane (Visible)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: transparent; /* stays transparent */
  overflow: hidden;
}
canvas { display:block; }
</style>
</head>
<body>
<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

let w,h;
function resize(){
  w = canvas.width = innerWidth;
  h = canvas.height = innerHeight;
}
addEventListener("resize", resize);
resize();

/* ───────── CORE ───────── */
const core = {
  x: () => w*0.5,
  y: () => h*0.5,
  r: Math.min(w,h)*0.16,
  vx: 0, vy: 0
};

/* ───────── STRANDS ───────── */
const STRANDS = 200;
const strands = [];

for(let i=0;i<STRANDS;i++){
  const a = Math.random()*Math.PI*2;
  const d = core.r * (0.85 + Math.random()*0.3);
  strands.push({
    a, d,
    lagX: 0, lagY: 0,
    sway: Math.random()*Math.PI*2,
    len: 8 + Math.random()*18,
    alpha: 0.15 + Math.random()*0.15 // ↑ visible
  });
}

/* ───────── MOTION ───────── */
function push(){
  const ang = Math.random()*Math.PI*2;
  const f = 0.3 + Math.random()*0.6;
  core.vx += Math.cos(ang)*f;
  core.vy += Math.sin(ang)*f;
}
let nextPush = performance.now()+1200;

/* ───────── UPDATE ───────── */
function update(){
  if(performance.now()>nextPush){
    push();
    nextPush = performance.now()+1200+Math.random()*2200;
  }

  core.vx *= 0.985;
  core.vy *= 0.985;

  const speed = Math.hypot(core.vx, core.vy);

  strands.forEach(s=>{
    const ax = Math.cos(s.a)*s.d;
    const ay = Math.sin(s.a)*s.d;

    s.sway += 0.035 + speed*0.12;

    const tx = ax + Math.sin(s.sway)*(1.2 + speed*2.4);
    const ty = ay + Math.cos(s.sway*0.9)*(1.0 + speed*2.0);

    s.lagX += (tx - s.lagX) * 0.08;
    s.lagY += (ty - s.lagY) * 0.08;
  });
}

/* ───────── DRAW ───────── */
function draw(){
  ctx.clearRect(0,0,w,h);
  ctx.save();
  ctx.translate(core.x(), core.y());
  ctx.globalCompositeOperation = "source-over"; // ← IMPORTANT

  strands.forEach(s=>{
    ctx.strokeStyle = `rgba(40,120,90,${s.alpha})`; // darker, visible
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(s.lagX, s.lagY);
    ctx.lineTo(
      s.lagX + Math.sin(s.sway)*s.len,
      s.lagY + s.len
    );
    ctx.stroke();
  });

  ctx.restore();
}

/* ───────── LOOP ───────── */
function loop(){
  update();
  draw();
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
